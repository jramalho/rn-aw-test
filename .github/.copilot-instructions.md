# ğŸš€ GitHub Copilot Instructions - RN AW Test

This is a **React Native 0.82 New Architecture** project showcasing modern mobile app development with a complete **Pokemon application** using PokÃ©API.

## ğŸ“± Project Context

### Core Technologies

- **React Native 0.82.0** - 100% New Architecture (Fabric + TurboModules)
- **React 19.1.1** - Concurrent features, Suspense, automatic batching
- **TypeScript 5.8.3** - Strict mode with enhanced type safety
- **React Navigation v7** - Type-safe navigation with Stack + Tab navigators
- **Zustand** - Lightweight state management with AsyncStorage persistence
- **PokÃ©API** - RESTful Pokemon API integration with caching

### Architecture Patterns

- **New Architecture**: 100% Fabric renderer, no legacy bridge components
- **Functional Components**: Hooks-based architecture with React.memo optimization
- **Custom Hooks**: Reusable logic in `src/hooks/` (useDebounce, useAsyncOperation, etc.)
- **State Management**: Zustand stores with persistence middleware
- **API Layer**: Service pattern with caching and error handling

## ğŸ¯ Code Style Guidelines

### React Native Best Practices

```typescript
// âœ… Preferred: Functional components with hooks
const MyComponent: React.FC<Props> = ({ prop1, prop2 }) => {
  const [state, setState] = useState<Type>(initialValue);

  return <View style={styles.container}>{/* Component content */}</View>;
};

// âœ… Preferred: StyleSheet usage with extracted conditional styles
const isDarkMode = useColorScheme() === 'dark';
const backgroundStyle = { backgroundColor: isDarkMode ? '#1a1a1a' : '#ffffff' };

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 16,
  },
});
```

### TypeScript Patterns

```typescript
// âœ… Preferred: Comprehensive interface definitions
export interface PokemonCardProps {
  pokemon: Pokemon;
  onPress: (pokemon: Pokemon) => void;
  showFavorite?: boolean;
}

// âœ… Preferred: Generic API response types
export interface ApiResponse<T> {
  data: T;
  message: string;
  success: boolean;
}

// âœ… Preferred: Utility types for navigation
export type RootStackParamList = {
  PokemonList: undefined;
  PokemonDetail: { pokemon: Pokemon };
};
```

### State Management with Zustand

```typescript
// âœ… Preferred: Zustand store pattern
interface PokemonState {
  pokemonList: Pokemon[];
  isLoading: boolean;
  error: string | null;
  // Actions
  loadPokemonList: (refresh?: boolean) => Promise<void>;
  clearError: () => void;
}

export const usePokemonStore = create<PokemonState>()(
  persist(
    (set, get) => ({
      pokemonList: [],
      isLoading: false,
      error: null,
      loadPokemonList: async (refresh = false) => {
        // Implementation
      },
    }),
    {
      name: 'pokemon-storage',
      storage: createJSONStorage(() => AsyncStorage),
    },
  ),
);
```

## ğŸ—ï¸ Project Structure

```
src/
â”œâ”€â”€ components/          # Reusable UI components
â”‚   â”œâ”€â”€ Button.tsx       # Material Design button component
â”‚   â”œâ”€â”€ PokemonCard.tsx  # Pokemon display card with type colors
â”‚   â”œâ”€â”€ SearchBar.tsx    # Advanced search with suggestions
â”‚   â””â”€â”€ TypeFilter.tsx   # Pokemon type filtering chips
â”œâ”€â”€ screens/            # Application screens
â”‚   â”œâ”€â”€ PokemonListScreen.tsx    # Main Pokemon list with search/filter
â”‚   â”œâ”€â”€ PokemonDetailScreen.tsx  # Pokemon details with stats/abilities
â”‚   â”œâ”€â”€ ProfileScreen.tsx        # User profile and stats
â”‚   â””â”€â”€ SettingsScreen.tsx       # App settings and theme toggle
â”œâ”€â”€ navigation/         # Navigation configuration
â”‚   â””â”€â”€ AppNavigator.tsx # Stack + Tab navigation setup
â”œâ”€â”€ hooks/              # Custom React hooks
â”‚   â””â”€â”€ index.ts        # useDebounce, useAsyncOperation, etc.
â”œâ”€â”€ store/              # Zustand state stores
â”‚   â”œâ”€â”€ pokemonStore.ts # Pokemon data and search state
â”‚   â””â”€â”€ themeStore.ts   # Theme and UI preferences
â”œâ”€â”€ utils/              # Utilities and services
â”‚   â”œâ”€â”€ pokemonApi.ts   # PokÃ©API service with caching
â”‚   â””â”€â”€ index.ts        # Helper functions and utilities
â””â”€â”€ types/              # TypeScript definitions
    â””â”€â”€ index.ts        # All Pokemon API and app types
```

## ğŸ® Pokemon App Features

### Core Components

- **PokemonCard**: Displays Pokemon with image, name, types, and stats preview
- **SearchBar**: Advanced search with debounced input and suggestions dropdown
- **TypeFilter**: Horizontal scrolling chips for Pokemon type filtering
- **PokemonDetailScreen**: Full Pokemon info with stats bars, abilities, moves

### API Integration Patterns

```typescript
// âœ… Preferred: API service with caching
const pokemonApi = {
  async getPokemon(id: number): Promise<Pokemon> {
    const cacheKey = `pokemon_${id}`;
    const cached = await getCachedData<Pokemon>(cacheKey);
    if (cached) return cached;

    const response = await apiRequest<Pokemon>(`/pokemon/${id}`);
    await setCachedData(cacheKey, response);
    return response;
  },
};

// âœ… Preferred: Store action patterns
const loadPokemonList = async (refresh = false) => {
  set({ isLoading: true, error: null });
  try {
    const response = await pokemonApi.getPokemonList(offset, limit);
    set({ pokemonList: response.results, hasMore: response.next !== null });
  } catch (error) {
    set({ error: error.message });
  } finally {
    set({ isLoading: false });
  }
};
```

## ğŸ¨ UI/UX Guidelines

### Theme System

- **Dark/Light Mode**: System preference detection with manual override
- **Pokemon Type Colors**: Dynamic coloring based on Pokemon types
- **Material Design 3**: Modern component styling with elevation and shadows
- **Safe Area**: Proper insets handling for all screens

### Performance Optimization

```typescript
// âœ… Preferred: Optimized FlatList usage
<FlatList
  data={pokemonList}
  renderItem={({ item }) => (
    <PokemonCard pokemon={item} onPress={handlePress} />
  )}
  keyExtractor={item => item.id.toString()}
  removeClippedSubviews={true}
  maxToRenderPerBatch={10}
  windowSize={10}
  onEndReached={handleLoadMore}
  onEndReachedThreshold={0.5}
/>;

// âœ… Preferred: React.memo for expensive components
export const PokemonCard = React.memo<PokemonCardProps>(
  ({ pokemon, onPress }) => {
    // Component implementation
  },
);
```

## ğŸ§ª Testing Patterns

### Component Testing

```typescript
// âœ… Preferred: Testing Library patterns
import { render, fireEvent } from '@testing-library/react-native';
import PokemonCard from '../PokemonCard';

describe('PokemonCard', () => {
  const mockPokemon = {
    /* mock data */
  };
  const mockOnPress = jest.fn();

  it('renders correctly with Pokemon data', () => {
    const { getByText } = render(
      <PokemonCard pokemon={mockPokemon} onPress={mockOnPress} />,
    );
    expect(getByText(mockPokemon.name)).toBeTruthy();
  });
});
```

## ğŸ”§ Development Guidelines

### Import Order

1. React and React Native imports
2. Third-party library imports
3. Internal component imports
4. Type imports
5. Relative imports

### File Naming

- **Components**: PascalCase (e.g., `PokemonCard.tsx`)
- **Screens**: PascalCase with "Screen" suffix (e.g., `PokemonListScreen.tsx`)
- **Utilities**: camelCase (e.g., `pokemonApi.ts`)
- **Types**: Use `index.ts` for exports

### Error Handling

```typescript
// âœ… Preferred: Comprehensive error handling
try {
  const pokemon = await pokemonApi.getPokemon(id);
  setData(pokemon);
} catch (error) {
  const errorMessage = error instanceof Error ? error.message : 'Unknown error';
  setError(errorMessage);
  console.error('Pokemon fetch error:', error);
}
```

## ğŸš€ New Architecture Considerations

### Performance Optimizations

- Use `React.memo()` for expensive components
- Implement proper `useCallback` and `useMemo` for heavy computations
- Leverage FlatList optimization props for large lists
- Use Hermes engine optimizations (enabled by default)

### Navigation Patterns

- Type-safe navigation with proper param definitions
- Stack navigator for detail screens, Tab navigator for main sections
- Proper header configuration and safe area handling

### State Management

- Zustand for global state with persistence
- Local state for component-specific data
- Custom hooks for reusable stateful logic

## ğŸ’¡ Code Suggestions Context

When suggesting code:

1. **Always use TypeScript** with proper type definitions
2. **Follow React Native 0.82 patterns** (New Architecture)
3. **Prefer functional components** with hooks
4. **Use existing utilities** from `src/utils/` and `src/hooks/`
5. **Match existing Pokemon API patterns** from `pokemonApi.ts`
6. **Follow Material Design 3 principles** for UI components
7. **Include proper error handling** and loading states
8. **Optimize for performance** with memo, callbacks, and proper list handling
9. **Maintain type safety** throughout the codebase
10. **Use established patterns** from existing components and screens

## ğŸ¯ Common Tasks

### Adding New Pokemon Features

- Extend Pokemon types in `src/types/index.ts`
- Add API methods to `src/utils/pokemonApi.ts`
- Update Zustand store actions in `src/store/pokemonStore.ts`
- Create components following existing patterns

### Creating New Screens

- Use existing screen patterns from `PokemonListScreen.tsx`
- Include proper navigation types
- Implement loading, error, and empty states
- Add to navigation configuration

### Building Components

- Follow `PokemonCard.tsx` patterns for structure
- Include TypeScript props interfaces
- Use StyleSheet with conditional styling
- Add proper accessibility labels

This project demonstrates modern React Native development with real-world API integration, comprehensive TypeScript usage, and New Architecture benefits.
